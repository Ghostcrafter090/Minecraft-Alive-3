
function world:bosses/book/main.0/0
execute as @a run function world:bosses/book/main.0/1
execute as @e[tag=!notick,type=item,nbt={Item:{id:"minecraft:written_book",Count:1b,tag:{title:"Muncāt Áyot botōta Muguk"}}}] at @s if block ~1 ~ ~ minecraft:green_candle[lit=true] if block ~-1 ~ ~ minecraft:green_candle[lit=true] if block ~ ~ ~-1 minecraft:green_candle[lit=true] if block ~ ~ ~-1 minecraft:green_candle[lit=true] run scoreboard players add @s bookSpell 3
execute as @e[type=item,scores={bookSpell=1..}] run function world:bosses/book/util/upgradestart
execute as @e[type=item,scores={bookSpell=100..}] at @s run function world:bosses/book/util/upgradebook
scoreboard players set @e[type=item,scores={bookSpell=100..}] bookSpell 0
execute if entity @e[tag=dmain,type=marker,scores={atic=5..5}] as @e[type=villager,limit=1,sort=random] at @s unless entity @e[type=villager,tag=curtrader] run summon villager ~ ~ ~ {Silent:1b,Invulnerable:0b,Willing:0b,Xp:10,Tags:["curtrader"],CustomName:'{"text":"Curious Trader"}',VillagerData:{level:99,profession:"minecraft:cartographer",type:"minecraft:plains"},Offers:{Recipes:[{buy:{id:'minecraft:emerald',Count:1b},sell:{id:'mca:anchient_page',Count:1b,tag:{display:{Name:'{"text":"Ancient Page"}',Lore:["{\"text\":\"Use this page in a crafting recipe to create a spell book.\"}"]}}}},{buy:{id:"minecraft:emerald",Count:1b},sell:{id:"minecraft:written_book",Count:1b,tag:{title:"Book of Herbal Magic",author:"Sátosus",generation:3,resolved:1b,pages:['{"text":"Book of Herbal Magic\\n-------------------\\n\\nNote: Not to be confused with alchemy.\\nThis requires a similar\\nsetup, but is different.\\n\\nWithin this here book lies the recipe\'s thou art to need for thy health. To counteract thy plague, this book is thou saviour."}','{"text":"Mixture of Mushroom\\n-------------------\\n\\nHerbal medicine can be complicated. One of the easiest medicines to create however his that of the mushroom.\\n\\nThe brown mushroom offers propertys of immunal boost. It can make a disease pass faster!"}','{"text":"To make mushroom medicine, brew thy brown mushroom in water.\\n\\nTo make thou medicine faster, thou art to brew a red mushroom within thy medicine of that of brown."}','{"text":"Medicine of Sight\\n-------------------\\n\\nBlindness affects many. If thou art to regain thy sight within thy lifetime, thou art to use these herbs. There are 3 strengths to this medicine. We shall\'t show thou all of them."}','{"text":"To first create Sight Medicine, thou art to brew a poppy within thou water.\\nTo create a stronger medicine, thou art brew thy new medicine with a carrot.\\nAnd to make thou medicine stronger still, thou art need thy golden carrot. Brew with that, and thou shal\'t regain sight! "}','{"text":"Medicine of Antinausea\\n-------------------\\n\\nThou art to require this medicine upon experiencing symptoms of dizzyness and lightheadedness. To make medicine of Antinausea, thow art to require to brew 1 beet root with thy water."}','{"text":"To produce a stronger medicine, thou art to require a fern. Brew thy fern with thy weak medicine to produce thyself a stronger medicine."}','{"text":"Medicine of Appetite\\n-------------------\\n\\nBlood letting is a scam, thou art to know this, thow lives in thy future after all. However, loss of appetite can induce hysteria! Therefore thou art to make thyself medicine of appetite!                                                "}','{"text":"To make thyself medicine of appetite, thou art to require thy weak antinausea medicine. Brew this with dye made by which of a dandilion and thou shal\'t have thy Appetite Medicine!"}','{"text":"To make thy medicine stronger, thou art require dye of light blue. Brew this with thy weak appetite medicine, and thow shal\'t have thyself strong appetite medicine."}','{"text":"Medicine of Energy\\n-------------------\\n\\nSometimes thow shal\'t be tired, there are 2 types of Energy Medicine. The first shal\'t be essence of caffiene. To produce this, brew thy coacoa beens with thy water and thou shal\'t have thyself \\"Coffee\\"."}','{"text":"The second type, true medicine of energy, requires dye of blue. Brew this with thy water and thou shal\'t have thyself medicine of energy.\\n\\nTo make thy medicine stronger, brew thy medicine with dye of orange. Thou shal\'t have thyself stronger medicine."}','{"text":"Antidotal Herbs\\n-------------------\\n\\nAll have enemy\'s, even thou. It is also possible for one to become so sick that one basically must be poisoned. And with poison, requires an antidote. Thy shal\'t make thyself an antidote."}','{"text":"To make thy antidote, thou art to require pink tulip. Brew thy pink tulip with thy water, and thou shal\'t have thyself an antidote.\\n\\nTo make thy antidote stronger, brew thy antidote with dye of light gray, and thou shal\'t have thyself stronger medicine."}','{"text":"Anticarcinogen Herbs\\n-------------------\\n\\nSometimes, thy antidote is not enough to cure thy poison. Thou art to require an anticarcinogen. To create this, thou art to require thyself green dye (essence of cacti). Brew thy dye in thou antidote to get thy medicine."}','{"text":"To make thy medicine stronger, thou art to require dye of light blue. Brew this with thy weak medicine and thou shal\'t have stronger medicine."}']}}}]},Brain:{memories:{"minecraft:meeting_point":{value:{pos:[I;0,0,0],dimension:"minecraft:overworld"}},"minecraft:home":{value:{pos:[I;0,0,0],dimension:"minecraft:overworld"}},"minecraft:job_site":{value:{pos:[I;0,0,0],dimension:"minecraft:overworld"}}}}}
execute as @a at @s as @e[type=villager,tag=curtrader,tag=!foundplayer,distance=0..20] at @s run function world:bosses/book/util/traderdialog
execute as @e[tag=curtrader] at @s if entity @e[tag=curtrader,distance=2..40,limit=1,sort=random] run effect give @s wither 3 10
execute as @a[scores={ravagerKill=1..}] unless entity @s[scores={progScore=3..}] run scoreboard players set @s progScore 3
execute as @a[scores={waterKeySpawned=1..1}] unless entity @s[scores={progScore=4..}] run scoreboard players set @s progScore 4
execute as @a[scores={guardBossKill=1..}] unless entity @s[scores={progScore=5..}] run scoreboard players set @s progScore 5
execute as @a[scores={enteredBlight=1..1}] unless entity @s[scores={progScore=6..}] run scoreboard players set @s progScore 6
execute as @a[scores={exitedBlight=1..}] unless entity @s[scores={progScore=7..}] run scoreboard players set @s progScore 7
execute as @a[scores={fireKeySpawned=1..1}] unless entity @s[scores={progScore=8..}] run scoreboard players set @s progScore 8
execute as @a[scores={withBossKill=1..}] unless entity @s[scores={progScore=9..}] run scoreboard players set @s progScore 9
execute if entity @e[tag=dmain,type=marker,scores={atic=8..8}] as @a at @s in minecraft:overworld if entity @s[distance=0..1] store result score @s jTempleDistance run locate jungle_pyramid
execute as @a[scores={jTempleDistance=..50}] at @s in minecraft:overworld if entity @s[distance=0..1] run scoreboard players set @s jTemple 1
execute as @a[scores={jTemple=1..1}] if entity @s[scores={withBossKill=1..}] unless entity @s[scores={progScore=10..}] run scoreboard players set @s progScore 10
execute as @a[scores={endKeySpawn=1..1}] unless entity @s[scores={progScore=11..}] run scoreboard players set @s progScore 11
execute as @a run function world:bosses/book/main.0/20
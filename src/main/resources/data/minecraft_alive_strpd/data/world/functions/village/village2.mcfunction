#define
scoreboard objectives add vpol dummy
scoreboard objectives add vpol1 dummy
scoreboard objectives add vpol2 dummy
scoreboard objectives add vpol3 dummy
scoreboard objectives add vpol4 dummy
scoreboard objectives add vreg dummy
scoreboard objectives add vwl dummy
scoreboard objectives add vwlt dummy
scoreboard objectives add vtc dummy

#main
execute as @a at @s unless entity @e[name=vilf,distance=0..100] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"vilf"}'}
execute as @a at @s unless entity @e[name=vilf2,distance=0..100] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"vilf2"}'}
execute as @a at @s unless entity @e[name=vilf3,distance=0..100] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"vilf3"}'}
execute as @a at @s run spreadplayers ~ ~ 1 50 false @e[name=vilf,tag=vil]
execute as @a at @s run spreadplayers ~ ~ 1 50 false @e[name=vilf2,tag=vil]
execute as @a at @s run spreadplayers ~ ~ 1 50 false @e[name=vilf3,tag=vil]
execute as @e[name=vilf,tag=vil] at @s if block ~ ~-1 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf,tag=vil] at @s if block ~ ~-2 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf,tag=vil] at @s if block ~ ~-3 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf,tag=vil] at @s if block ~ ~-4 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf,tag=vil] at @s if block ~ ~-5 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf,tag=vil] at @s if block ~ ~-6 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf,tag=vil] at @s if block ~ ~-7 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf,tag=vil] at @s if block ~ ~-8 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf,tag=vil] at @s if block ~ ~-9 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf2,tag=vil] at @s if block ~ ~-1 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf2,tag=vil] at @s if block ~ ~-2 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf2,tag=vil] at @s if block ~ ~-3 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf2,tag=vil] at @s if block ~ ~-4 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf2,tag=vil] at @s if block ~ ~-5 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf2,tag=vil] at @s if block ~ ~-6 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf2,tag=vil] at @s if block ~ ~-7 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf2,tag=vil] at @s if block ~ ~-8 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf2,tag=vil] at @s if block ~ ~-9 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf3,tag=vil] at @s if block ~ ~-1 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf3,tag=vil] at @s if block ~ ~-2 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf3,tag=vil] at @s if block ~ ~-3 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf3,tag=vil] at @s if block ~ ~-4 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf3,tag=vil] at @s if block ~ ~-5 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf3,tag=vil] at @s if block ~ ~-6 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf3,tag=vil] at @s if block ~ ~-7 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf3,tag=vil] at @s if block ~ ~-8 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}
execute as @e[name=vilf3,tag=vil] at @s if block ~ ~-9 ~ minecraft:bell unless entity @e[name=village,tag=vil,distance=0..100] if entity @e[type=villager,distance=0..70] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"village"}'}

#villagepoling
execute as @e[name=village,tag=vil] unless entity @s[scores={vpol=-10..10}] run scoreboard players set @s vpol 0
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=0..0}] unless entity @e[name=vpol1,distance=0..100] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"vpol1"}'}
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=0..0}] unless entity @e[name=vpol2,distance=0..100] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"vpol2"}'}
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=0..0}] unless entity @e[name=vpol3,distance=0..100] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"vpol3"}'}
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=0..0}] unless entity @e[name=vpol4,distance=0..100] run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"vpol4"}'}
execute as @e[name=vpol1,tag=vil] at @s if entity @e[type=villager,distance=0..70] run tp @s ~1 ~ ~
execute as @e[name=vpol2,tag=vil] at @s if entity @e[type=villager,distance=0..70] run tp @s ~-1 ~ ~
execute as @e[name=vpol3,tag=vil] at @s if entity @e[type=villager,distance=0..70] run tp @s ~ ~ ~1
execute as @e[name=vpol4,tag=vil] at @s if entity @e[type=villager,distance=0..70] run tp @s ~ ~ ~-1
execute as @e[name=vpol1,tag=vil] at @s unless entity @e[type=villager,distance=0..69] if entity @e[name=village,tag=vil,scores={vpol=0..0}] run scoreboard players set @e[name=village,tag=vil] vpol1 1
execute as @e[name=vpol2,tag=vil] at @s unless entity @e[type=villager,distance=0..69] if entity @e[name=village,tag=vil,scores={vpol=0..0}] run scoreboard players set @e[name=village,tag=vil] vpol2 1
execute as @e[name=vpol3,tag=vil] at @s unless entity @e[type=villager,distance=0..69] if entity @e[name=village,tag=vil,scores={vpol=0..0}] run scoreboard players set @e[name=village,tag=vil] vpol3 1
execute as @e[name=vpol4,tag=vil] at @s unless entity @e[type=villager,distance=0..69] if entity @e[name=village,tag=vil,scores={vpol=0..0}] run scoreboard players set @e[name=village,tag=vil] vpol4 1
execute as @e[name=village,tag=vil] if entity @s[scores={vpol1=1..1}] if entity @s[scores={vpol2=1..1}] if entity @s[scores={vpol3=1..1}] if entity @s[scores={vpol4=1..1}] if entity @s[scores={vpol=0..0}] run scoreboard players set @s vpol 1
#execute as @e[name=vpol1,tag=vil] at @s run spreadplayers ~ ~ 0 1 false @s
#execute as @e[name=vpol2,tag=vil] at @s run spreadplayers ~ ~ 0 1 false @s
#execute as @e[name=vpol3,tag=vil] at @s run spreadplayers ~ ~ 0 1 false @s
#execute as @e[name=vpol4,tag=vil] at @s run spreadplayers ~ ~ 0 1 false @s
execute as @e[name=village,tag=vil] if entity @s[scores={vpol=1..1}] as @e[name=vpol1,tag=vil] at @s run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"vt1"}'}
execute as @e[name=village,tag=vil] if entity @s[scores={vpol=1..1}] as @e[name=vpol2,tag=vil] at @s run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"vt2"}'}
execute as @e[name=village,tag=vil] if entity @s[scores={vpol=1..1}] as @e[name=vpol3,tag=vil] at @s run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"vt3"}'}
execute as @e[name=village,tag=vil] if entity @s[scores={vpol=1..1}] as @e[name=vpol4,tag=vil] at @s run summon minecraft:armor_stand ~ ~ ~ {CustomNameVisible:0b,NoGravity:1b,Invulnerable:1b,Marker:1b,Invisible:1b,PersistenceRequired:1b,Tags:["vil"],CustomName:'{"text":"vt4"}'}
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=1..1}] if entity @e[name=vt1,tag=vil,distance=0..100] if entity @e[name=vt2,tag=vil,distance=0..100] if entity @e[name=vt3,tag=vil,distance=0..100] if entity @e[name=vt4,tag=vil,distance=0..100] as @e[name=vt1,tag=vil,distance=0..100] at @s run spreadplayers ~ ~ 0 1 false @s
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=1..1}] if entity @e[name=vt1,tag=vil,distance=0..100] if entity @e[name=vt2,tag=vil,distance=0..100] if entity @e[name=vt3,tag=vil,distance=0..100] if entity @e[name=vt4,tag=vil,distance=0..100] as @e[name=vt2,tag=vil,distance=0..100] at @s run spreadplayers ~ ~ 0 1 false @s
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=1..1}] if entity @e[name=vt1,tag=vil,distance=0..100] if entity @e[name=vt2,tag=vil,distance=0..100] if entity @e[name=vt3,tag=vil,distance=0..100] if entity @e[name=vt4,tag=vil,distance=0..100] as @e[name=vt3,tag=vil,distance=0..100] at @s run spreadplayers ~ ~ 0 1 false @s
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=1..1}] if entity @e[name=vt1,tag=vil,distance=0..100] if entity @e[name=vt2,tag=vil,distance=0..100] if entity @e[name=vt3,tag=vil,distance=0..100] if entity @e[name=vt4,tag=vil,distance=0..100] as @e[name=vt4,tag=vil,distance=0..100] at @s run spreadplayers ~ ~ 0 1 false @s
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=1..1}] if entity @e[name=vt1,tag=vil,distance=0..100] if entity @e[name=vt2,tag=vil,distance=0..100] if entity @e[name=vt3,tag=vil,distance=0..100] if entity @e[name=vt4,tag=vil,distance=0..100] run scoreboard players set @s vpol 2
execute as @e[name=vt1,tag=vil] at @s unless block ~ ~-1 ~ grass_block unless block ~ ~-1 ~ gravel unless block ~ ~-1 ~ dirt unless block ~ ~-1 ~ coarse_dirt unless block ~ ~-1 ~ podzol unless block ~ ~-1 ~ sand unless block ~ ~-1 ~ red_sand unless block ~ ~-1 ~ stone unless block ~ ~-1 ~ granite unless block ~ ~-1 ~ diorite unless block ~ ~-1 ~ andesite unless block ~ ~-1 ~ mycelium run tp @s ~ ~-1 ~
execute as @e[name=vt2,tag=vil] at @s unless block ~ ~-1 ~ grass_block unless block ~ ~-1 ~ gravel unless block ~ ~-1 ~ dirt unless block ~ ~-1 ~ coarse_dirt unless block ~ ~-1 ~ podzol unless block ~ ~-1 ~ sand unless block ~ ~-1 ~ red_sand unless block ~ ~-1 ~ stone unless block ~ ~-1 ~ granite unless block ~ ~-1 ~ diorite unless block ~ ~-1 ~ andesite unless block ~ ~-1 ~ mycelium run tp @s ~ ~-1 ~
execute as @e[name=vt3,tag=vil] at @s unless block ~ ~-1 ~ grass_block unless block ~ ~-1 ~ gravel unless block ~ ~-1 ~ dirt unless block ~ ~-1 ~ coarse_dirt unless block ~ ~-1 ~ podzol unless block ~ ~-1 ~ sand unless block ~ ~-1 ~ red_sand unless block ~ ~-1 ~ stone unless block ~ ~-1 ~ granite unless block ~ ~-1 ~ diorite unless block ~ ~-1 ~ andesite unless block ~ ~-1 ~ mycelium run tp @s ~ ~-1 ~
execute as @e[name=vt4,tag=vil] at @s unless block ~ ~-1 ~ grass_block unless block ~ ~-1 ~ gravel unless block ~ ~-1 ~ dirt unless block ~ ~-1 ~ coarse_dirt unless block ~ ~-1 ~ podzol unless block ~ ~-1 ~ sand unless block ~ ~-1 ~ red_sand unless block ~ ~-1 ~ stone unless block ~ ~-1 ~ granite unless block ~ ~-1 ~ diorite unless block ~ ~-1 ~ andesite unless block ~ ~-1 ~ mycelium run tp @s ~ ~-1 ~
execute as @e[name=vt1,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ grass_block run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol1 2
execute as @e[name=vt1,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ gravel run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol1 2
execute as @e[name=vt1,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ dirt run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol1 2
execute as @e[name=vt1,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ coarse_dirt run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol1 2
execute as @e[name=vt1,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ podzol run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol1 2
execute as @e[name=vt1,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ sand run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol1 2
execute as @e[name=vt1,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ red_sand run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol1 2
execute as @e[name=vt1,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ stone run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol1 2
execute as @e[name=vt1,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ granite run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol1 2
execute as @e[name=vt1,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ diorite run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol1 2
execute as @e[name=vt1,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ andesite run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol1 2
execute as @e[name=vt1,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ mycelium run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol1 2
execute as @e[name=vt2,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ grass_block run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol2 2
execute as @e[name=vt2,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ gravel run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol2 2
execute as @e[name=vt2,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ dirt run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol2 2
execute as @e[name=vt2,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ coarse_dirt run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol2 2
execute as @e[name=vt2,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ podzol run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol2 2
execute as @e[name=vt2,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ sand run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol2 2
execute as @e[name=vt2,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ red_sand run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol2 2
execute as @e[name=vt2,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ stone run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol2 2
execute as @e[name=vt2,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ granite run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol2 2
execute as @e[name=vt2,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ diorite run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol2 2
execute as @e[name=vt2,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ andesite run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol2 2
execute as @e[name=vt2,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ mycelium run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol2 2
execute as @e[name=vt3,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ grass_block run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol3 2
execute as @e[name=vt3,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ gravel run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol3 2
execute as @e[name=vt3,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ dirt run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol3 2
execute as @e[name=vt3,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ coarse_dirt run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol3 2
execute as @e[name=vt3,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ podzol run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol3 2
execute as @e[name=vt3,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ sand run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol3 2
execute as @e[name=vt3,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ red_sand run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol3 2
execute as @e[name=vt3,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ stone run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol3 2
execute as @e[name=vt3,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ granite run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol3 2
execute as @e[name=vt3,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ diorite run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol3 2
execute as @e[name=vt3,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ andesite run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol3 2
execute as @e[name=vt3,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ mycelium run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol3 2
execute as @e[name=vt4,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ grass_block run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol4 2
execute as @e[name=vt4,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ gravel run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol4 2
execute as @e[name=vt4,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ dirt run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol4 2
execute as @e[name=vt4,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ coarse_dirt run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol4 2
execute as @e[name=vt4,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ podzol run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol4 2
execute as @e[name=vt4,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ sand run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol4 2
execute as @e[name=vt4,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ red_sand run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol4 2
execute as @e[name=vt4,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ stone run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol4 2
execute as @e[name=vt4,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ granite run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol4 2
execute as @e[name=vt4,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ diorite run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol4 2
execute as @e[name=vt4,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ andesite run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol4 2
execute as @e[name=vt4,tag=vil] at @s if entity @e[name=village,scores={vpol=2..2}] if block ~ ~-1 ~ mycelium run scoreboard players set @e[name=village,tag=vil,distance=0..100] vpol4 2
execute as @e[name=village,tag=vil] if entity @s[scores={vpol1=2..2}] if entity @s[scores={vpol2=2..2}] if entity @s[scores={vpol3=2..2}] if entity @s[scores={vpol4=2..2}] if entity @s[scores={vpol=2..2}] run scoreboard players set @s vpol 3
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt1,distance=0..100] at @s run fill ~1 ~-5 ~ ~-1 ~ ~ cobblestone replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt1,distance=0..100] at @s run fill ~ ~-5 ~1 ~ ~ ~-1 cobblestone replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt1,distance=0..100] at @s run fill ~ ~8 ~ ~ ~-5 ~ cobblestone replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt1,distance=0..100] at @s run fill ~ ~9 ~ ~ ~9 ~ campfire replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt2,distance=0..100] at @s run fill ~1 ~-5 ~ ~-1 ~ ~ cobblestone replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt2,distance=0..100] at @s run fill ~ ~-5 ~1 ~ ~ ~-1 cobblestone replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt2,distance=0..100] at @s run fill ~ ~8 ~ ~ ~-5 ~ cobblestone replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt2,distance=0..100] at @s run fill ~ ~9 ~ ~ ~9 ~ campfire replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt3,distance=0..100] at @s run fill ~1 ~-5 ~ ~-1 ~ ~ cobblestone replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt3,distance=0..100] at @s run fill ~ ~-5 ~1 ~ ~ ~-1 cobblestone replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt3,distance=0..100] at @s run fill ~ ~8 ~ ~ ~-5 ~ cobblestone replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt3,distance=0..100] at @s run fill ~ ~9 ~ ~ ~9 ~ campfire replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt4,distance=0..100] at @s run fill ~1 ~-5 ~ ~-1 ~ ~ cobblestone replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt4,distance=0..100] at @s run fill ~ ~-5 ~1 ~ ~ ~-1 cobblestone replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt4,distance=0..100] at @s run fill ~ ~8 ~ ~ ~-5 ~ cobblestone replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] as @e[name=vt4,distance=0..100] at @s run fill ~ ~9 ~ ~ ~9 ~ campfire replace
execute as @e[name=village,tag=vil] at @s if entity @s[scores={vpol=3..3}] run scoreboard players set @s vpol 4

#mainbuilding

#housepol
setworldspawn 0 0 0
fill -5 253 5 4 253 -5 grass_block replace
execute as @e[type=villager,tag=!vil] unless entity @s[scores={vwl=2..2}] at @s if blocks -4 253 4 3 253 -4 ~-4 ~-1 ~-4 masked run scoreboard players set @s vwl 1
execute as @e[type=villager,tag=!vil,scores={vwl=1..1}] run scoreboard players set @s vwlt 0
execute as @e[type=villager,tag=!vil,scores={vwl=1..1}] run scoreboard players set @s vwl 2
execute if entity @a[scores={vreg=29..29}] run scoreboard players add @e[type=villager,tag=!vil,scores={vwl=2..2}] vwlt 1
effect give @e[type=villager,tag=!vil,scores={vwl=1..2}] slowness 10 10
effect give @e[type=villager,tag=!vil,scores={vwl=1..2}] resistance 10 10
execute as @e[type=villager,tag=!vil,scores={vwl=1..2}] run data merge entity @s {NoAI:1b}
execute as @e[type=villager,tag=!vil,scores={vwl=3..3}] run data merge entity @s {NoAI:0b}
#layor1
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=3..3}] at @s run fill ~-2 ~ ~3 ~1 ~ ~-3 cobblestone replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=4..4}] at @s run fill ~-3 ~ ~2 ~-3 ~ ~-2 cobblestone replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=5..5}] at @s run fill ~2 ~ ~2 ~2 ~ ~-2 cobblestone replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=6..6}] at @s run fill ~-3 ~ ~3 ~-3 ~ ~3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=7..7}] at @s run fill ~2 ~ ~-3 ~2 ~ ~-3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=8..8}] at @s run fill ~2 ~ ~3 ~2 ~ ~3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=9..9}] at @s run fill ~-3 ~ ~-3 ~-3 ~ ~-3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=10..10}] at @s run fill ~3 ~ ~1 ~3 ~ ~-1 cobblestone replace
#layor2
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=18..18}] at @s run fill ~-3 ~1 ~3 ~-3 ~1 ~3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=19..19}] at @s run fill ~2 ~1 ~-3 ~2 ~1 ~-3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=20..20}] at @s run fill ~2 ~1 ~3 ~2 ~1 ~3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=21..21}] at @s run fill ~-3 ~1 ~-3 ~-3 ~1 ~-3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=22..22}] at @s run fill ~-3 ~1 ~2 ~-3 ~1 ~-2 cobblestone replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=23..23}] at @s run fill ~2 ~1 ~2 ~2 ~1 ~-2 cobblestone replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=24..24}] at @s run fill ~-1 ~1 ~-3 ~ ~1 ~-3 oak_door[facing=south,half=lower] replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=25..25}] at @s run fill ~-1 ~2 ~-3 ~ ~2 ~-3 oak_door[facing=south,half=upper] replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=26..26}] at @s run fill ~1 ~1 ~2 ~-2 ~1 ~2 smooth_stone replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=27..27}] at @s run fill ~-2 ~1 ~2 ~-2 ~1 ~-2 smooth_stone replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=28..28}] at @s run fill ~2 ~1 ~ ~2 ~1 ~ blast_furnace[facing=west]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=29..29}] at @s run fill ~1 ~1 ~-3 ~-2 ~1 ~-3 cobblestone replace air
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=30..30}] at @s run fill ~1 ~1 ~3 ~-2 ~1 ~3 cobblestone replace air
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=31..31}] at @s run fill ~3 ~1 ~1 ~3 ~1 ~-1 cobblestone replace
#layor3
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=39..39}] at @s run fill ~-3 ~2 ~3 ~-3 ~2 ~3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=40..40}] at @s run fill ~2 ~2 ~-3 ~2 ~2 ~-3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=41..41}] at @s run fill ~2 ~2 ~3 ~2 ~2 ~3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=42..42}] at @s run fill ~-3 ~2 ~-3 ~-3 ~2 ~-3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=43..43}] at @s run fill ~-2 ~2 ~3 ~-2 ~2 ~3 oak_log[axis=x]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=44..44}] at @s run fill ~1 ~2 ~3 ~1 ~2 ~3 oak_log[axis=x]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=45..45}] at @s run fill ~-3 ~2 ~ ~-3 ~2 ~ oak_log[axis=z]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=46..46}] at @s run fill ~-3 ~2 ~2 ~-3 ~2 ~2 oak_log[axis=z]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=47..47}] at @s run fill ~-3 ~2 ~-2 ~-3 ~2 ~-2 oak_log[axis=z]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=48..48}] at @s run fill ~-3 ~2 ~1 ~-3 ~2 ~1 glass_pane[north=true,south=true]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=49..49}] at @s run fill ~-3 ~2 ~-1 ~-3 ~2 ~-1 glass_pane[north=true,south=true]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=50..50}] at @s run fill ~ ~2 ~3 ~-1 ~2 ~3 glass_pane[east=true,west=true]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=51..51}] at @s run fill ~1 ~2 ~-3 ~-2 ~2 ~-3 cobblestone replace air
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=52..52}] at @s run fill ~2 ~2 ~2 ~2 ~2 ~-2 cobblestone replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=53..53}] at @s run fill ~3 ~2 ~1 ~3 ~2 ~-1 cobblestone replace
#layor4
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=61..61}] at @s run fill ~-3 ~3 ~2 ~-3 ~3 ~-2 cobblestone replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=62..62}] at @s run fill ~2 ~3 ~2 ~2 ~3 ~-2 cobblestone replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=63..63}] at @s run fill ~1 ~3 ~3 ~-2 ~3 ~3 cobblestone replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=64..64}] at @s run fill ~1 ~3 ~-3 ~-2 ~3 ~-3 cobblestone replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=65..65}] at @s run fill ~-3 ~3 ~3 ~-3 ~3 ~3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=66..66}] at @s run fill ~2 ~3 ~-3 ~2 ~3 ~-3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=67..67}] at @s run fill ~2 ~3 ~3 ~2 ~3 ~3 oak_log[axis=y]
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=68..68}] at @s run fill ~-3 ~3 ~-3 ~-3 ~3 ~-3 oak_log[axis=y]
#layor5
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=76..76}] at @s run fill ~-3 ~4 ~3 ~2 ~4 ~-3 cobblestone_slab[type=bottom] replace
#layor6
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=84..84}] at @s run fill ~-2 ~4 ~2 ~1 ~4 ~-2 cobblestone_slab[type=double] replace
#layor7
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=92..92}] at @s run fill ~-1 ~5 ~1 ~ ~5 ~-1 cobblestone_slab[type=bottom] replace
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=93..93}] at @s run particle minecraft:heart ~ ~2 ~ 0.3 0.2 0.3 0.1 100 force
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=93..93}] at @s run particle minecraft:happy_villager ~ ~2 ~ 0.3 1 0.3 0.1 100 force
execute as @e[type=villager,tag=!vil,scores={vwl=2..2,vwlt=94..94}] at @s run scoreboard players set @s vwl 3
execute as @e[type=villager,tag=!vil,scores={vwl=1..1}] at @s if entity @e[type=villager,tag=!vil,scores={vwl=2..2},distance=0..10] run scoreboard players set @s vwl 0

#treecutters
execute as @e[name=village,tag=vol] unless entity @s[scores={vtc=1..1}] run scoreboard players set @s vtc 1
execute as @e[name=village,tag=vol] unless entity @s[scores={vtc=1..1}] at @s run summon minecraft:villager ~10 ~10 ~ {CustomNameVisible:1b,PersistenceRequired:1b,CanPickUpLoot:1b,Willing:1b,InLove:1000,CustomName:'{"text":"Lumber_Jack"}',HandItems:[{id:"minecraft:iron_axe",Count:1b},{id:"minecraft:oak_log",Count:1b}],HandDropChances:[1.000F,0.085F],ArmorItems:[{},{},{},{id:"minecraft:golden_helmet",Count:1b}],ActiveEffects:[{Id:3b,Amplifier:1b,Duration:111111}],Attributes:[{Name:generic.maxHealth,Base:30},{Name:generic.followRange,Base:100},{Name:generic.attackDamage,Base:4}],VillagerData:{level:5,profession:"minecraft:leatherworker",type:"minecraft:plains"},Offers:{Recipes:[{rewardExp:1b,maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:1b},sell:{id:"minecraft:oak_log",Count:1b}},{maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:3b},sell:{id:"minecraft:iron_axe",Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:1s},{id:"minecraft:efficiency",lvl:1s}]}}}]},Brain:{memories:{"minecraft:meeting_point":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:home":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:job_site":{pos:[I;0,0,0],dimension:"minecraft:overworld"}}}}
execute as @e[name=village,tag=vol] unless entity @s[scores={vtc=1..1}] at @s run summon minecraft:villager ~10 ~10 ~ {CustomNameVisible:1b,PersistenceRequired:1b,CanPickUpLoot:1b,Willing:1b,InLove:1000,CustomName:'{"text":"Lumber_Jack"}',HandItems:[{id:"minecraft:iron_axe",Count:1b},{id:"minecraft:oak_log",Count:1b}],HandDropChances:[1.000F,0.085F],ArmorItems:[{},{},{},{id:"minecraft:golden_helmet",Count:1b}],ActiveEffects:[{Id:3b,Amplifier:1b,Duration:111111}],Attributes:[{Name:generic.maxHealth,Base:30},{Name:generic.followRange,Base:100},{Name:generic.attackDamage,Base:4}],VillagerData:{level:5,profession:"minecraft:leatherworker",type:"minecraft:plains"},Offers:{Recipes:[{rewardExp:1b,maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:1b},sell:{id:"minecraft:oak_log",Count:1b}},{maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:3b},sell:{id:"minecraft:iron_axe",Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:1s},{id:"minecraft:efficiency",lvl:1s}]}}}]},Brain:{memories:{"minecraft:meeting_point":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:home":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:job_site":{pos:[I;0,0,0],dimension:"minecraft:overworld"}}}}
execute as @e[name=village,tag=vol] unless entity @s[scores={vtc=1..1}] at @s run summon minecraft:villager ~10 ~10 ~ {CustomNameVisible:1b,PersistenceRequired:1b,CanPickUpLoot:1b,Willing:1b,InLove:1000,CustomName:'{"text":"Lumber_Jack"}',HandItems:[{id:"minecraft:iron_axe",Count:1b},{id:"minecraft:oak_log",Count:1b}],HandDropChances:[1.000F,0.085F],ArmorItems:[{},{},{},{id:"minecraft:golden_helmet",Count:1b}],ActiveEffects:[{Id:3b,Amplifier:1b,Duration:111111}],Attributes:[{Name:generic.maxHealth,Base:30},{Name:generic.followRange,Base:100},{Name:generic.attackDamage,Base:4}],VillagerData:{level:5,profession:"minecraft:leatherworker",type:"minecraft:plains"},Offers:{Recipes:[{rewardExp:1b,maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:1b},sell:{id:"minecraft:oak_log",Count:1b}},{maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:3b},sell:{id:"minecraft:iron_axe",Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:1s},{id:"minecraft:efficiency",lvl:1s}]}}}]},Brain:{memories:{"minecraft:meeting_point":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:home":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:job_site":{pos:[I;0,0,0],dimension:"minecraft:overworld"}}}}
execute as @e[name=village,tag=vol] unless entity @s[scores={vtc=1..1}] at @s run summon minecraft:villager ~10 ~10 ~ {CustomNameVisible:1b,PersistenceRequired:1b,CanPickUpLoot:1b,Willing:1b,InLove:1000,CustomName:'{"text":"Lumber_Jack"}',HandItems:[{id:"minecraft:iron_axe",Count:1b},{id:"minecraft:oak_log",Count:1b}],HandDropChances:[1.000F,0.085F],ArmorItems:[{},{},{},{id:"minecraft:golden_helmet",Count:1b}],ActiveEffects:[{Id:3b,Amplifier:1b,Duration:111111}],Attributes:[{Name:generic.maxHealth,Base:30},{Name:generic.followRange,Base:100},{Name:generic.attackDamage,Base:4}],VillagerData:{level:5,profession:"minecraft:leatherworker",type:"minecraft:plains"},Offers:{Recipes:[{rewardExp:1b,maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:1b},sell:{id:"minecraft:oak_log",Count:1b}},{maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:3b},sell:{id:"minecraft:iron_axe",Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:1s},{id:"minecraft:efficiency",lvl:1s}]}}}]},Brain:{memories:{"minecraft:meeting_point":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:home":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:job_site":{pos:[I;0,0,0],dimension:"minecraft:overworld"}}}}
execute as @e[name=village,tag=vol] unless entity @s[scores={vtc=1..1}] at @s run summon minecraft:villager ~10 ~10 ~ {CustomNameVisible:1b,PersistenceRequired:1b,CanPickUpLoot:1b,Willing:1b,InLove:1000,CustomName:'{"text":"Lumber_Jack"}',HandItems:[{id:"minecraft:iron_axe",Count:1b},{id:"minecraft:oak_log",Count:1b}],HandDropChances:[1.000F,0.085F],ArmorItems:[{},{},{},{id:"minecraft:golden_helmet",Count:1b}],ActiveEffects:[{Id:3b,Amplifier:1b,Duration:111111}],Attributes:[{Name:generic.maxHealth,Base:30},{Name:generic.followRange,Base:100},{Name:generic.attackDamage,Base:4}],VillagerData:{level:5,profession:"minecraft:leatherworker",type:"minecraft:plains"},Offers:{Recipes:[{rewardExp:1b,maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:1b},sell:{id:"minecraft:oak_log",Count:1b}},{maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:3b},sell:{id:"minecraft:iron_axe",Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:1s},{id:"minecraft:efficiency",lvl:1s}]}}}]},Brain:{memories:{"minecraft:meeting_point":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:home":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:job_site":{pos:[I;0,0,0],dimension:"minecraft:overworld"}}}}
execute as @e[name=village,tag=vol] unless entity @s[scores={vtc=1..1}] at @s run summon minecraft:villager ~10 ~10 ~ {CustomNameVisible:1b,PersistenceRequired:1b,CanPickUpLoot:1b,Willing:1b,InLove:1000,CustomName:'{"text":"Lumber_Jack"}',HandItems:[{id:"minecraft:iron_axe",Count:1b},{id:"minecraft:oak_log",Count:1b}],HandDropChances:[1.000F,0.085F],ArmorItems:[{},{},{},{id:"minecraft:golden_helmet",Count:1b}],ActiveEffects:[{Id:3b,Amplifier:1b,Duration:111111}],Attributes:[{Name:generic.maxHealth,Base:30},{Name:generic.followRange,Base:100},{Name:generic.attackDamage,Base:4}],VillagerData:{level:5,profession:"minecraft:leatherworker",type:"minecraft:plains"},Offers:{Recipes:[{rewardExp:1b,maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:1b},sell:{id:"minecraft:oak_log",Count:1b}},{maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:3b},sell:{id:"minecraft:iron_axe",Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:1s},{id:"minecraft:efficiency",lvl:1s}]}}}]},Brain:{memories:{"minecraft:meeting_point":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:home":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:job_site":{pos:[I;0,0,0],dimension:"minecraft:overworld"}}}}
execute as @e[name=village,tag=vol] unless entity @s[scores={vtc=1..1}] at @s run summon minecraft:villager ~-10 ~10 ~ {CustomNameVisible:1b,PersistenceRequired:1b,CanPickUpLoot:1b,Willing:1b,InLove:1000,CustomName:'{"text":"Lumber_Jack"}',HandItems:[{id:"minecraft:iron_axe",Count:1b},{id:"minecraft:oak_log",Count:1b}],HandDropChances:[1.000F,0.085F],ArmorItems:[{},{},{},{id:"minecraft:golden_helmet",Count:1b}],ActiveEffects:[{Id:3b,Amplifier:1b,Duration:111111}],Attributes:[{Name:generic.maxHealth,Base:30},{Name:generic.followRange,Base:100},{Name:generic.attackDamage,Base:4}],VillagerData:{level:5,profession:"minecraft:leatherworker",type:"minecraft:plains"},Offers:{Recipes:[{rewardExp:1b,maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:1b},sell:{id:"minecraft:oak_log",Count:1b}},{maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:3b},sell:{id:"minecraft:iron_axe",Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:1s},{id:"minecraft:efficiency",lvl:1s}]}}}]},Brain:{memories:{"minecraft:meeting_point":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:home":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:job_site":{pos:[I;0,0,0],dimension:"minecraft:overworld"}}}}
execute as @e[name=village,tag=vol] unless entity @s[scores={vtc=1..1}] at @s run summon minecraft:villager ~-10 ~10 ~ {CustomNameVisible:1b,PersistenceRequired:1b,CanPickUpLoot:1b,Willing:1b,InLove:1000,CustomName:'{"text":"Lumber_Jack"}',HandItems:[{id:"minecraft:iron_axe",Count:1b},{id:"minecraft:oak_log",Count:1b}],HandDropChances:[1.000F,0.085F],ArmorItems:[{},{},{},{id:"minecraft:golden_helmet",Count:1b}],ActiveEffects:[{Id:3b,Amplifier:1b,Duration:111111}],Attributes:[{Name:generic.maxHealth,Base:30},{Name:generic.followRange,Base:100},{Name:generic.attackDamage,Base:4}],VillagerData:{level:5,profession:"minecraft:leatherworker",type:"minecraft:plains"},Offers:{Recipes:[{rewardExp:1b,maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:1b},sell:{id:"minecraft:oak_log",Count:1b}},{maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:3b},sell:{id:"minecraft:iron_axe",Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:1s},{id:"minecraft:efficiency",lvl:1s}]}}}]},Brain:{memories:{"minecraft:meeting_point":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:home":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:job_site":{pos:[I;0,0,0],dimension:"minecraft:overworld"}}}}
execute as @e[name=village,tag=vol] unless entity @s[scores={vtc=1..1}] at @s run summon minecraft:villager ~-10 ~10 ~ {CustomNameVisible:1b,PersistenceRequired:1b,CanPickUpLoot:1b,Willing:1b,InLove:1000,CustomName:'{"text":"Lumber_Jack"}',HandItems:[{id:"minecraft:iron_axe",Count:1b},{id:"minecraft:oak_log",Count:1b}],HandDropChances:[1.000F,0.085F],ArmorItems:[{},{},{},{id:"minecraft:golden_helmet",Count:1b}],ActiveEffects:[{Id:3b,Amplifier:1b,Duration:111111}],Attributes:[{Name:generic.maxHealth,Base:30},{Name:generic.followRange,Base:100},{Name:generic.attackDamage,Base:4}],VillagerData:{level:5,profession:"minecraft:leatherworker",type:"minecraft:plains"},Offers:{Recipes:[{rewardExp:1b,maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:1b},sell:{id:"minecraft:oak_log",Count:1b}},{maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:3b},sell:{id:"minecraft:iron_axe",Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:1s},{id:"minecraft:efficiency",lvl:1s}]}}}]},Brain:{memories:{"minecraft:meeting_point":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:home":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:job_site":{pos:[I;0,0,0],dimension:"minecraft:overworld"}}}}
execute as @e[name=village,tag=vol] unless entity @s[scores={vtc=1..1}] at @s run summon minecraft:villager ~-10 ~10 ~ {CustomNameVisible:1b,PersistenceRequired:1b,CanPickUpLoot:1b,Willing:1b,InLove:1000,CustomName:'{"text":"Lumber_Jack"}',HandItems:[{id:"minecraft:iron_axe",Count:1b},{id:"minecraft:oak_log",Count:1b}],HandDropChances:[1.000F,0.085F],ArmorItems:[{},{},{},{id:"minecraft:golden_helmet",Count:1b}],ActiveEffects:[{Id:3b,Amplifier:1b,Duration:111111}],Attributes:[{Name:generic.maxHealth,Base:30},{Name:generic.followRange,Base:100},{Name:generic.attackDamage,Base:4}],VillagerData:{level:5,profession:"minecraft:leatherworker",type:"minecraft:plains"},Offers:{Recipes:[{rewardExp:1b,maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:1b},sell:{id:"minecraft:oak_log",Count:1b}},{maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:3b},sell:{id:"minecraft:iron_axe",Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:1s},{id:"minecraft:efficiency",lvl:1s}]}}}]},Brain:{memories:{"minecraft:meeting_point":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:home":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:job_site":{pos:[I;0,0,0],dimension:"minecraft:overworld"}}}}
execute as @e[name=village,tag=vol] unless entity @s[scores={vtc=1..1}] at @s run summon minecraft:villager ~-10 ~10 ~ {CustomNameVisible:1b,PersistenceRequired:1b,CanPickUpLoot:1b,Willing:1b,InLove:1000,CustomName:'{"text":"Lumber_Jack"}',HandItems:[{id:"minecraft:iron_axe",Count:1b},{id:"minecraft:oak_log",Count:1b}],HandDropChances:[1.000F,0.085F],ArmorItems:[{},{},{},{id:"minecraft:golden_helmet",Count:1b}],ActiveEffects:[{Id:3b,Amplifier:1b,Duration:111111}],Attributes:[{Name:generic.maxHealth,Base:30},{Name:generic.followRange,Base:100},{Name:generic.attackDamage,Base:4}],VillagerData:{level:5,profession:"minecraft:leatherworker",type:"minecraft:plains"},Offers:{Recipes:[{rewardExp:1b,maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:1b},sell:{id:"minecraft:oak_log",Count:1b}},{maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:3b},sell:{id:"minecraft:iron_axe",Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:1s},{id:"minecraft:efficiency",lvl:1s}]}}}]},Brain:{memories:{"minecraft:meeting_point":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:home":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:job_site":{pos:[I;0,0,0],dimension:"minecraft:overworld"}}}}
execute as @e[name=village,tag=vol] unless entity @s[scores={vtc=1..1}] at @s run summon minecraft:villager ~-10 ~10 ~ {CustomNameVisible:1b,PersistenceRequired:1b,CanPickUpLoot:1b,Willing:1b,InLove:1000,CustomName:'{"text":"Lumber_Jack"}',HandItems:[{id:"minecraft:iron_axe",Count:1b},{id:"minecraft:oak_log",Count:1b}],HandDropChances:[1.000F,0.085F],ArmorItems:[{},{},{},{id:"minecraft:golden_helmet",Count:1b}],ActiveEffects:[{Id:3b,Amplifier:1b,Duration:111111}],Attributes:[{Name:generic.maxHealth,Base:30},{Name:generic.followRange,Base:100},{Name:generic.attackDamage,Base:4}],VillagerData:{level:5,profession:"minecraft:leatherworker",type:"minecraft:plains"},Offers:{Recipes:[{rewardExp:1b,maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:1b},sell:{id:"minecraft:oak_log",Count:1b}},{maxUses:100,xp:1,buy:{id:"minecraft:emerald",Count:3b},sell:{id:"minecraft:iron_axe",Count:1b,tag:{Enchantments:[{id:"minecraft:sharpness",lvl:1s},{id:"minecraft:efficiency",lvl:1s}]}}}]},Brain:{memories:{"minecraft:meeting_point":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:home":{pos:[I;0,0,0],dimension:"minecraft:overworld"},"minecraft:job_site":{pos:[I;0,0,0],dimension:"minecraft:overworld"}}}}
execute as @e[type=villager,name=Lumber_Jack] if block ~ ~-1 ~ grass_block if block ~1 ~-1 ~1 grass_block if block ~-1 ~-1 ~1 grass_block if block ~-1 ~-1 ~-1 grass_block if block ~1 ~-1 ~-1 grass_block at @s run fill ~1 ~8 ~1 ~-1 ~ ~-1 air replace #logs






